<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:designTime="clr-namespace:Camelotia.Presentation.DesignTime;assembly=Camelotia.Presentation"
             x:Class="Camelotia.Presentation.Avalonia.Views.FileView"
             Background="Transparent">
    <Design.DataContext>
        <designTime:DesignTimeFileViewModel />
    </Design.DataContext>
    <UserControl.Styles>
        <Style>
            <Style.Resources>
                <GeometryDrawing x:Key="FolderDrawing" Brush="{DynamicResource HighlightBrush}" Geometry="M213.338 96H74.666C51.197 96 32 115.198 32 138.667v234.666C32 396.802 51.197 416 74.666 416h362.668C460.803 416 480 396.802 480 373.333V186.667C480 163.198 460.803 144 437.334 144H256.006l-42.668-48z"/>
                <GeometryDrawing x:Key="FileDrawing" Brush="{DynamicResource ThemeAccentBrush}" Geometry="F1M225,-200C211.192886352539,-200,200,-188.807113647461,200,-175C200,-161.192886352539,211.192886352539,-150,225,-150L375,-150C388.80712890625,-150,400,-161.192886352539,400,-175C400,-188.807113647461,388.80712890625,-200,375,-200L225,-200z M225,-300C211.192886352539,-300,200,-288.80712890625,200,-275C200,-261.19287109375,211.192886352539,-250,225,-250L300,-250C313.80712890625,-250,325,-261.19287109375,325,-275C325,-288.80712890625,313.80712890625,-300,300,-300L225,-300z M350,-500L350,-421.25C349.129821777344,-410.510803222656,357.027465820313,-401.055877685547,367.75,-400L443.5,-400 350,-500z M164,-550L364,-550C371.054473876953,-549.983337402344,377.773529052734,-546.986999511719,382.5,-541.75L493.5,-416.75C497.667449951172,-412.1650390625,499.983825683594,-406.195892333984,500,-400L500,-112.5C499.802276611328,-95.7246856689453,492.948059082031,-79.7151184082031,480.945465087891,-67.9938430786133C468.94287109375,-56.2725677490234,452.775299072266,-49.7999038696289,436,-50.0000038146973L164,-50.0000038146973C147.224716186523,-49.7999038696289,131.05712890625,-56.2725677490234,119.054534912109,-67.9938430786133C107.051948547363,-79.7151184082031,100.197738647461,-95.7246856689453,100,-112.5L100,-487.5C100.197738647461,-504.275299072266,107.051948547363,-520.284851074219,119.054534912109,-532.006164550781C131.05712890625,-543.727416992188,147.224716186523,-550.200073242188,164,-550z"/>
            </Style.Resources>
        </Style>
    </UserControl.Styles>
    <UserControl.ContextMenu>
        <ContextMenu>
            <MenuItem Header="Open" Command="{Binding Provider.Open}" />
            <MenuItem Header="Back" Command="{Binding Provider.Back}" />
            <MenuItem Header="Download" Command="{Binding Provider.DownloadSelectedFile}" />
            <MenuItem Header="Rename" Command="{Binding Provider.Rename.Open}" />
            <MenuItem Header="Unselect" Command="{Binding Provider.UnselectFile}" />
        </ContextMenu>
    </UserControl.ContextMenu>
    <Grid Margin="10 0">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="3*" />
            <ColumnDefinition Width="1*" />
            <ColumnDefinition Width="1*" />
            <ColumnDefinition Width="2*" />
        </Grid.ColumnDefinitions>
        <DrawingPresenter Grid.Column="0" 
                          IsVisible="{Binding IsFolder}"
                          Width="16" 
                          Height="16"
                          Margin="0 0 10 0"
                          Drawing="{DynamicResource FolderDrawing}"/>
        <DrawingPresenter Grid.Column="0"
                          IsVisible="{Binding IsFile}"
                          Width="16"
                          Height="16"
                          Margin="0 0 10 0"
                          Drawing="{DynamicResource FileDrawing}"/>
        <TextBlock Grid.Column="1"
                   Text="{Binding Name}"
                   VerticalAlignment="Center"
                   TextWrapping="Wrap"
                   FontSize="14" />
        <TextBox Grid.Column="2"
                 Classes="Badge"
                 Text="Directory"
                 IsVisible="{Binding IsFolder}"
                 FontSize="12" />
        <TextBox Grid.Column="3"
                 Classes="Badge"
                 VerticalAlignment="Center"
                 IsVisible="{Binding IsFile}"
                 Text="{Binding Size}" />
        <TextBox Grid.Column="4"
                 Classes="PrimaryBadge"
                 VerticalAlignment="Center"
                 Text="{Binding Modified}" />
    </Grid>
</UserControl>
